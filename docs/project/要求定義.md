# 対話型需要予測システム要求

- **AI との共存**

1. システムの目的

- 経験豊富な担当者の暗黙知を形式知化し、需要予測の精度と効率を向上させる。
- AI と人間の対話を通じて、予測プロセスを継続的に学習・改善する。
- マシンパワーを抑えつつ、多角的な要因を考慮した高精度な需要予測を実現する。
- 予測業務の属人化を解消し、企業全体の予測能力を底上げする。

2. 主要機能要件
   2.1. データ収集・連携機能

- 販売実績データ連携:
  - 過去の販売実績データをシステムにインポート・連携できること。
  - 実績データの期間、粒度（日次、週次、月次など）、製品コード、販売数量などを指定できること。
- 外部データ自動連携:
  - 気象データ（気温、降水量、日照時間など）を、予測対象製品の地域に紐づけて自動取得・連携できること。
  - 景気関連データ（CPI、GDP、PMI など）を自動取得・連携できること。
- ユーザー手動入力可能な外部データ:
  - 為替レート、原材料価格、競合他社の動向、特定の市場調査レポートなど、AI が自動取得しにくいが予測に重要なデータをユーザーが手動で入力・更新できること。
- 社内ニュース・イベント情報登録:
  - 新製品発売、リニューアル、新規顧客獲得、主要顧客の生産計画変更、地域イベント出展、大規模プロモーションなどの社内ニュースや特定イベント情報をユーザーがタイムライン形式で登録・管理できること。
  - 登録時に、イベントの種類、期間、影響度（定性的で可）などを付与できること。
    2.2. 初期分析・予測提案機能
- 実績データに基づくトレンド・季節性分析:
  - 与えられた販売実績データから、基本的なトレンド、季節性、周期性などを自動で分析し、可視化できること。
- 異常値・変動要因の自動検知と提示:
  - 過去の実績データにおいて、通常の変動パターンから大きく外れる異常値や急激な変動（急増・急減）を自動で検知し、ユーザーに提示できること。
  - 検出された変動に対して、自動連携した気象データや景気関連データとの相関を自律的に分析し、可能性のある要因を仮説として提示できること。
- 初期予測値の生成:
  - 上記分析結果と既存データに基づき、初期的な需要予測値を自動で生成し、提示できること。
    2.3. 暗黙知言語化・対話支援機能 (最も重要)
- タイムラインとイベントの可視化による想起支援:
  - 過去の販売実績グラフ上に、異常値や変動が大きかった期間をハイライト表示し、その期間に登録された社内ニュースやイベント情報をオーバーレイ表示できること。
  - ハイライトされた期間に対し、**「この時期に何か特別な出来事や社内外のイベントがありましたか？」**のように、具体的な期間と変動を示して担当者に問いかけることができること。
  - 多様な要因例（メディア露出、競合の動き、異常気象など）を提示し、担当者の思考を誘導できること。
- シナリオベースの仮説検証と影響度評価:
  - AI が「もし ○○ が起きたら、需要はどうなりますか？」といった具体的なシナリオ（例：競合値引き、主要顧客の生産停止など）を提示し、担当者に影響度（例：ほとんど影響なし、軽微な減少、中程度の減少など）を選択させる、または数値で入力させる機能。
  - 担当者の選択後、その判断の理由や根拠を自然言語で問いかけることができること。
- 因果関係の逆引きと影響要因の掘り下げ:
  - 予測と実績の乖離や、実績の急変動に対し、AI が**「この変動の主な要因は何だとお考えですか？」「その判断に至った具体的な兆候や情報源は？」**といった形で、原因となる要因を担当者から引き出すことができること。
  - 担当者の回答を受け、AI がその内容を要約し、認識をすり合わせる対話ができること。
- 質問の具体化・誘導:
  - 担当者の回答が「なんとなく」「勘」といった抽象的な場合、AI がより具体的・限定的な質問を繰り返し投げかけ、暗黙知を言語化するように誘導できること。
  - Yes/No や複数選択肢形式の質問を効果的に活用できること。
- 学習と要因のモデル化:
  - 担当者との対話を通じて得られた「イベントの影響度」「特定の要因と需要の相関」「担当者の判断基準」などを、ルールベースやシンプルな統計モデルのパラメータとして学習し、将来の予測に反映できること。
    2.4. 予測調整・管理機能
- 予測値の手動調整:
  - AI が提示した予測値に対し、担当者が独自の判断に基づき手動で調整（上書き）できること。
  - 調整理由をコメントとして入力できること。
- 実績との比較とフィードバック:
  - 実際の販売実績が確定した後、システムが予測値と実績を比較し、その乖離を可視化できること。
  - 乖離が発生した場合、AI がその原因について再度担当者と対話し、予測モデルの改善に繋げられること。

3. 非機能要件

- UI/UX:
  - 直感的で分かりやすいインターフェースを提供すること。特に、対話部分はチャット形式やフローに沿った質問形式で、ユーザーがスムーズに操作できること。
  - グラフやデータの可視化が豊富で、一目で状況を把握できること。
- システム負荷:
  - マシンパワーを最小限に抑える設計であること。複雑な深層学習モデルではなく、ルールベースやシンプルな統計モデルを主軸とすること。
  - クラウド環境での運用を想定し、必要に応じてリソースをスケールできる柔軟性を持つこと。
- データセキュリティ:
  - 機密性の高い販売実績データや社内情報を安全に管理できること。
- 拡張性:
  - 将来的に新たな外部データソースや予測要因を追加できるよう、システム構造が柔軟であること。
- 学習能力:
  - 担当者のフィードバックや実績データとの乖離から、継続的に予測精度を向上させる学習メカニズムを持つこと。

4. 開発時の考慮事項

- プロトタイピング: まずは特定の製品グループや担当者に絞り、MVP (Minimum Viable Product) を開発し、実際に利用しながら改善を繰り返すアプローチが有効。
- ヒアリングの実施: 実際に予測を行っている担当者への詳細なヒアリングを通じて、彼らの思考プロセスや判断基準を深く理解すること。
- 学習データの蓄積: 対話の履歴や手動入力された情報は、AI の学習にとって貴重なデータとなるため、これらを適切に蓄積・管理する仕組みが重要。
